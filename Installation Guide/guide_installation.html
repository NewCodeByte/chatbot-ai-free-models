<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guide d'Installation - Chatbot AI Free Models</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f8f9fa;
            color: #333; /* Couleur de texte de base foncée */
        }
        .container {
            max-width: 900px;
            margin: 30px auto;
            padding: 25px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1, h2, h3 {
            color: #007bff; /* Bleu primaire */
            margin-top: 1.5em;
            margin-bottom: 0.8em;
        }
        h1 {
            text-align: center;
            border-bottom: 2px solid #eee;
            padding-bottom: 0.5em;
            font-size: 2.2em;
        }
        h2 {
            border-bottom: 1px solid #eee;
            padding-bottom: 0.3em;
            font-size: 1.8em;
        }
        h3 {
            font-size: 1.4em;
            color: #17a2b8; /* Bleu-vert pour les sous-titres */
        }
        p, li {
            font-size: 1em;
            margin-bottom: 0.7em;
        }
        ul, ol {
            padding-left: 25px;
        }
        /* --- CSS CORRECT POUR CODE ET PRE --- */
        code {
            background-color: #e9ecef; /* Fond gris clair */
            padding: 3px 6px; /* Un peu plus de padding */
            border-radius: 4px;
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
            font-size: 0.9em;
            color: #333; /* Couleur de texte foncée, bon contraste */
        }
        pre {
            background-color: #e9ecef; /* Fond gris clair */
            padding: 15px;
            border: 1px solid #ddd; /* Bordure légère ajoutée */
            border-radius: 5px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: #333; /* Couleur de texte de base foncée pour le bloc */
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace; /* Assure police monospace */
            font-size: 0.9em; /* Taille cohérente */
            line-height: 1.5; /* Améliore lisibilité des blocs */
        }
        /* Style spécifique pour 'code' DANS 'pre' */
        pre code {
            background-color: transparent; /* Fond transparent pour hériter de 'pre' */
            padding: 0; /* Pas de padding extra */
            border-radius: 0; /* Pas de coins arrondis extra */
            border: none; /* Pas de bordure extra */
            color: inherit; /* Hérite couleur de 'pre' (#333) */
            font-size: inherit; /* Hérite taille de 'pre' */
        }
        /* --- FIN CSS CORRECT --- */

        .alert {
            padding: 15px;
            margin-bottom: 20px;
            border: 1px solid transparent;
            border-radius: 4px;
        }
        .alert-info {
            color: #0c5460;
            background-color: #d1ecf1;
            border-color: #bee5eb;
        }
        .alert-warning {
            color: #856404;
            background-color: #fff3cd;
            border-color: #ffeeba;
        }
        .alert-danger {
            color: #721c24;
            background-color: #f8d7da;
            border-color: #f5c6cb;
        }
        a {
            color: #007bff;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .credentials-removed { /* Style pour message de setup */
            background-color: #e3f2fd;
            border-left: 5px solid #17a2b8;
            padding: 10px 15px;
            margin: 15px 0;
        }
        .footer {
            text-align: center;
            margin-top: 30px;
            font-size: 0.9em;
            color: #6c757d;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Chatbot AI Free Models</h1>

        <p class="alert alert-info">Merci d'avoir choisi <b>Chatbot AI Free Models !</b> Ce chatbot vous permet d'intégrer un assistant virtuel personnalisable à votre site web, en utilisant des modèles d'IA disponibles gratuitement via OpenRouter.ai.</p>

        <h2>Caractéristiques Principales</h2>
        <ul>
            <li><strong>Intégration Facile :</strong> Ajoutez le chatbot à n'importe quel site web avec une seule ligne de JavaScript.</li>
            <li><strong>Panneau d'Administration Sécurisé :</strong> Une interface complète pour configurer l'apparence, le comportement, la base de connaissances, l'API, etc., protégée par connexion.</li>
            <li><strong>Configuration Guidée :</strong> Création sécurisée du compte administrateur lors du premier accès.</li>
            <li><strong>Mots de Passe Sécurisés :</strong> Les mots de passe administrateur sont stockés en utilisant un hachage moderne (pas en clair).</li>
            <li><strong>Personnalisable :</strong> Modifiez les couleurs, icônes, titre, message de bienvenue.</li>
            <li><strong>Flexible :</strong> Définissez la base de connaissances et les règles de comportement du bot.</li>
            <li><strong>Mémoire Conversationnelle :</strong> Le bot peut se souvenir des messages précédents au sein d'une session.</li>
            <li><strong>Support Multilingue :</strong> L'interface du panneau d'administration et de connexion/configuration est traduisible.</li>
            <li><strong>Prêt pour OpenRouter.ai :</strong> Préconfiguré pour utiliser les modèles d'OpenRouter.ai.</li>
        </ul>

        <h2>Installation Rapide</h2>
        <ol>
            <li>
                <h3>Charger les Fichiers</h3>
                <p>Décompressez l'archive et chargez l'ensemble du dossier du chatbot (ex : <code>chatbot-x/</code>) sur votre serveur web dans un emplacement accessible via une URL.</p>
            </li>
            <li>
                <h3>Permissions des Dossiers et Fichiers</h3>
                <p>Assurez-vous que le serveur web dispose des permissions d'écriture pour :</p>
                <ul>
                    <li>Le dossier principal du chatbot (pour créer et écrire dans le fichier de base de données <code>db.db</code>).</li>
                    <li>Le sous-dossier <code>images/</code> (pour le chargement des icônes/logos).</li>
                    <li>Le sous-dossier <code>sounds/</code> (pour le chargement du son de notification).</li>
                </ul>
                <p class="alert alert-warning">Vérifiez que le fichier <code>db.db</code>, une fois créé, est également accessible en écriture par le processus du serveur web.</p>
            </li>
            <li>
                <h3>Premier Accès et Configuration Admin</h3>
                <p>Ouvrez votre navigateur et accédez à la page de connexion : <code>http://votresite.com/chemin_vers_chatbot/login.php</code>.</p>
                <div class="credentials-removed">
                    <p>Lors du premier accès, le système détectera qu'aucun administrateur n'existe et vous présentera un <strong>formulaire d'inscription</strong>.</p>
                    <p>Saisissez un <strong>Nom d'utilisateur Admin</strong> et un <strong>Mot de passe sécurisé</strong> (et confirmez-le) pour créer votre compte. Ce compte sera sauvegardé dans la base de données <code>db.db</code> avec le mot de passe protégé par hachage.</p>
                </div>
                <p>Après avoir créé le compte, vous serez redirigé (ou pourrez accéder) vers la page de connexion normale.</p>
            </li>
            <li>
                <h3>Accès au Panneau d'Administration</h3>
                 <p>Une fois le compte créé, connectez-vous à <code>http://votresite.com/chemin_vers_chatbot/login.php</code> en utilisant les identifiants que vous venez de définir.</p>
                 <p>Après la connexion, vous serez redirigé vers le Panneau de Configuration (<code>admin.php</code>).</p>
            </li>
            <li>
                <h3>Configuration Initiale</h3>
                <p>Dans le Panneau de Configuration :</p>
                <ul>
                    <li>Allez dans l'onglet <strong>Paramètres</strong>.</li>
                    <li>Saisissez votre <strong>Clé API</strong> de <a href="https://openrouter.ai/" target="_blank" rel="noopener">OpenRouter.ai</a>.</li>
                    <li>Sélectionnez un <strong>Modèle IA</strong> (de nombreux modèles gratuits sont disponibles).</li>
                    <li>Personnalisez la <strong>Base de Connaissances</strong> et les <strong>Règles de Comportement</strong>. Consultez l'<strong>Onglet Guide</strong> dans le panneau pour des modèles et suggestions.</li>
                    <li>Explorez les autres onglets (Style, Images, Sons) pour personnaliser davantage.</li>
                    <li>Sélectionnez la <strong>Langue de l'Interface</strong> souhaitée.</li>
                </ul>
            </li>
            <li>
                <h3>Intégrer à Votre Site</h3>
                <p>Copiez la ligne de script fournie dans l'<strong>Onglet Guide</strong> du panneau d'administration. Elle devrait ressembler à :</p>
                <pre><code>&lt;script src="/chemin_vers_chatbot/embed.js" defer>&lt;/script&gt;</code></pre>
                <p>Collez cette ligne dans les pages de votre site web où vous souhaitez que le chatbot apparaisse, de préférence avant la balise de fermeture <code>&lt;/body&gt;</code>. Assurez-vous que le chemin vers le script <code>embed.js</code> est correct.</p>
            </li>
        </ol>

        <h2>Structure des Fichiers (Principaux)</h2>
        <ul>
            <li><code>admin.php</code> : Le panneau d'administration.</li>
            <li><code>chatbot.php</code> : Gère la logique et l'interface du chatbot.</li>
            <li><code>embed.js</code> : Script pour l'intégration au site web.</li>
            <li><code>style.css</code> : Feuilles de style.</li>
            <li><code>admin.js</code> & <code>chatbot.js</code> : Fichiers JavaScript.</li>
            <li><code>login.php</code> : Page de connexion et de configuration initiale.</li>
            <li><code>export.php</code> : Exportation des messages.</li>
            <li><code>db_init.php</code> : Script d'initialisation de la base de données.</li>
            <li><code>db.db</code> : Base de données SQLite (créée au premier lancement).</li>
            <li><code>/images/</code> : Dossier des images.</li>
            <li><code>/sounds/</code> : Dossier des sons.</li>
            <li><code>/languages/</code> : Dossier des traductions.</li>
            <li><code>guide_installation.html</code> : Ce fichier guide (nom suggéré).</li>
        </ul>

        <h2>Sécurité</h2>
        <ul>
            <li><strong>Hachage des Mots de Passe :</strong> Les mots de passe sont maintenant stockés de manière sécurisée via hachage.</li>
            <li><strong>Protection des Dossiers :</strong> Envisagez toujours de protéger des fichiers spécifiques comme <code>admin.php</code> avec des méthodes supplémentaires (ex : <code>.htaccess</code> sur les serveurs Apache) si vous souhaitez un niveau de sécurité supérieur, en limitant l'accès à certaines IP ou en exigeant une authentification HTTP de base supplémentaire. L'accès direct à la base de données devrait déjà être protégé par le fichier .htaccess fourni.</li>
            <li><strong>Permissions des Fichiers :</strong> Définissez les permissions au minimum nécessaire pour le fonctionnement, en garantissant l'écriture uniquement là où c'est requis (dossier principal pour <code>db.db</code>, <code>images/</code>, <code>sounds/</code>).</li>
        </ul>

        <h2>Dépannage</h2>
        <p>Consultez la section "Résolution des Problèmes Courants" dans l'<strong>Onglet Guide</strong> du panneau d'administration.</p>
         <ul>
            <li><strong>Erreur BD lors du premier accès à <code>login.php</code> :</strong> Assurez-vous que le dossier du plugin est accessible en écriture par le serveur web pour permettre la création du fichier <code>db.db</code>.</li>
            <li>Autres problèmes : vérifiez les journaux d'erreurs PHP de votre serveur.</li>
         </ul>

        <h2>Contributions et Support</h2>
        <p>Pour du support ou pour contribuer au projet, visitez <a href="https://newcodebyte.altervista.org" target="_blank" rel="noopener">https://newcodebyte.altervista.org</a>.</p>

        <div class="footer">
            <p>Merci d'avoir choisi <b>Chatbot AI Free Models !</b></p>
        </div>
    </div>
</body>
</html>